import React, { useEffect, useState } from "react"; import { Container, Typography, Card, CardContent, Grid } from "@mui/material"; import supabase from "../supabase/supabaseClient"; interface Certification { id: string; title: string; description: string; exam_code: string; } const TestSupabase: React.FC = () => { const [certifications, setCertifications] = useState<Certification[]>([]); useEffect(() => { const initializeCertifications = async () => { await supabase.from("certifications").delete().neq("id", "0"); const { error } = await supabase.from("certifications").upsert([ { title: "CCNA", description: "Cisco Certified Network Associate", exam_code: "200-301" }, { title: "CompTIA Security+", description: "CompTIA Security+ certification", exam_code: "SY0-601" }, { title: "JNCIA", description: "Juniper Networks Certified Internet Associate", exam_code: "JN0-105" }, { title: "Microsoft Security Operations Analyst", description: "Microsoft Security Operations Analyst", exam_code: "SC-205" } ]); if (error) console.error("Error:", error); const { data } = await supabase.from("certifications").select("*"); setCertifications(data || []); }; initializeCertifications(); }, []); return ( <Container maxWidth="lg" sx={{ mt: 4 }}> <Typography variant="h4" gutterBottom>Certifications</Typography> <Grid container spacing={3}> {certifications.map((cert) => ( <Grid item xs={12} key={cert.id}> <Card> <CardContent> <Typography variant="h5" gutterBottom>{cert.title}</Typography> <Typography variant="subtitle1" color="text.secondary">Exam Code: {cert.exam_code}</Typography> <Typography variant="body1">{cert.description}</Typography> </CardContent> </Card> </Grid> ))} </Grid> </Container> ); }; export default TestSupabase;
